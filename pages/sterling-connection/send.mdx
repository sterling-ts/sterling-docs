---
title: Sterling to Provider
---

# Sterling -> Provider

The `sterling-connection` middleware sends messages to the data provider,
typically to ask the data provider for some data or to let the provider know
that the user has interacted with the interface in some way.

This page outlines all of the messages that the middleware can send to the data
provider, under which circumstances those messages will be sent, and when a
response from the provider is expected.

## `click`

A message notifying the data provider that a [`Button`](./types#button) was
clicked by the user while viewing a specific datum.

#### Payload Fields

- `id`: The ID of the datum associated with the button that was clicked.
- `onClick`: The string value from the `onClick` field of the button that was
  clicked.

#### Payload Types

```typescript
{
  id: string;
  onClick: string;
}
```

#### Example

In this example, a button with the fields `{ text: "Next", onClick: "next" }`
has been clicked by the user while viewing datum with the id `"1"`.

```json
{
  "type": "click",
  "version": 1,
  "payload": {
    "id": "1",
    "onClick": "next"
  }
}
```

## `data`

A message requesting the current data to display to the user. This message will
be sent when the connection is established (or re-established). Respond in turn
with a [`data`](./receive#data) message.

#### Example

```json
{
  "type": "data",
  "version": 1
}
```

## `eval`

A message requesting that the provider evaluate some expression associated with
a specific datum. Respond with the result of evaluating the expression with an
[`eval`](./receive#eval) message.

#### Payload Fields

- `id` - A unique string identifier, generated by Sterling, identifying the eval
  expression. This same ID should be used to identify the result of evaluating
  this expression in the response.
- `datumId` - The ID of the datum associated with the expression.
- `expression` - The expression that the user wants to evaluate.

#### Payload Types

```typescript
{
  id: string;
  datumId: string;
  expression: string;
}
```

#### Example

```json
{
  "type": "eval",
  "version": 1,
  "payload": {
    "id": "0",
    "datumId": "1",
    "expression": "univ"
  }
}
```

## `meta`

A message requesting data about the data provider, such as the provider's name
and the types of views it supports. Respond in turn with a
[`meta`](./receive#meta) message.

#### Example

```json
{
  "type": "meta",
  "version": 1
}
```

## `ping`

The `ping` message is one of two messages that does not follow the standard
message format. The other, [`pong`](./receive#pong), is expected in response to
a `ping`. The two together are used to keep the connection between the
`sterling-connection` middleware and the data provider alive.

#### Example

```
"ping"
```
