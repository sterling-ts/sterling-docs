(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[884],{5012:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/sterling-connection/send",function(){return t(3738)}])},3738:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return u}});var s=t(5893),i=t(620),r=t(3805),a=t(7845),o=t(1151);function d(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function c(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},s=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),s.forEach((function(n){d(e,n,t[n])}))}return e}function h(e){var n=void 0===e?{}:e,t=function(){var e=Object.assign({h1:"h1",p:"p",code:"code",h2:"h2",h4:"h4",a:"a",pre:"pre",ul:"ul",li:"li"},(0,o.ah)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{children:"Sterling -> Provider"}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.code,{children:"sterling-connection"})," middleware sends messages to the data provider,\nusually to ask the data provider for some data or to let the data provider know\nthat the user has interacted with the interface in some way."]}),"\n",(0,s.jsx)(e.p,{children:"This page outlines all of the messages that the middleware can send to the data\nprovider and under which circumstances those messages will be sent."}),"\n",(0,s.jsx)(e.h2,{children:(0,s.jsx)(e.code,{children:"action"})}),"\n",(0,s.jsx)(e.p,{children:"A message notifying the data provider that an action button was clicked by the\nuser while viewing a specific datum."}),"\n",(0,s.jsx)(e.h4,{children:"Example"}),"\n",(0,s.jsxs)(e.p,{children:["In this example, a ",(0,s.jsx)(e.a,{href:"./types#button",children:(0,s.jsx)(e.code,{children:"Button"})})," with the id ",(0,s.jsx)(e.code,{children:'"next"'})," has been\nclicked by the user while viewing datum with the id ",(0,s.jsx)(e.code,{children:'"1"'}),"."]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "type": "action",\n  "version": 1,\n  "payload": {\n    "action": "next",\n    "datum": "1"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{children:(0,s.jsx)(e.code,{children:"data"})}),"\n",(0,s.jsxs)(e.p,{children:["A message requesting the current data to display to the user. This message will\nbe sent when the connection is established (or re-established). Respond in turn\nwith a ",(0,s.jsx)(e.a,{href:"./receive#data",children:(0,s.jsx)(e.code,{children:"data"})})," message."]}),"\n",(0,s.jsx)(e.h4,{children:"Example"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "type": "data",\n  "version": 1\n}\n'})}),"\n",(0,s.jsx)(e.h2,{children:(0,s.jsx)(e.code,{children:"eval"})}),"\n",(0,s.jsxs)(e.p,{children:["A message requesting that the provider evaluate some expression associated with\na specific datum. Respond with the result of evaluating the expression with an\n",(0,s.jsx)(e.a,{href:"./receive#eval",children:(0,s.jsx)(e.code,{children:"eval"})})," message."]}),"\n",(0,s.jsx)(e.h4,{children:"Payload Fields"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"id"})," - A unique string identifier, generated by Sterling, identifying the eval\nexpression. This same ID should be used to identify the result of evaluating\nthis expression in the response."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"datumId"})," - The ID of the datum associated with the expression."]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.code,{children:"expression"})," - The expression that the user wants to evaluate."]}),"\n"]}),"\n",(0,s.jsx)(e.h4,{children:"Payload Types"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-typescript",children:"{\n  id: string;\n  datumId: string;\n  expression: string;\n}\n"})}),"\n",(0,s.jsx)(e.h4,{children:"Example"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "type": "eval",\n  "version": 1,\n  "payload": {\n    "id": "0",\n    "datum": "1",\n    "expression": "univ"\n  }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{children:(0,s.jsx)(e.code,{children:"meta"})}),"\n",(0,s.jsxs)(e.p,{children:["A message requesting data about the data provider, such as the provider's name\nand the types of views it supports. Respond in turn with a\n",(0,s.jsx)(e.a,{href:"./receive#meta",children:(0,s.jsx)(e.code,{children:"meta"})})," message."]}),"\n",(0,s.jsx)(e.h2,{children:(0,s.jsx)(e.code,{children:"ping"})}),"\n",(0,s.jsxs)(e.p,{children:["The ",(0,s.jsx)(e.code,{children:"ping"})," message is one of two messages that does not follow the standard\nmessage format. The other, ",(0,s.jsx)(e.a,{href:"./receive#pong",children:(0,s.jsx)(e.code,{children:"pong"})}),", is expected in response to\na ",(0,s.jsx)(e.code,{children:"ping"}),". The two together are used to keep the connection between the\n",(0,s.jsx)(e.code,{children:"sterling-connection"})," middleware and the data provider alive."]}),"\n",(0,s.jsx)(e.h4,{children:"Example"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:'"ping"\n'})}),"\n",(0,s.jsx)(e.h2,{children:(0,s.jsx)(e.code,{children:"provider-meta"})}),"\n",(0,s.jsx)(e.p,{children:"A request for metadata from the provider. This message is sent to the data\nprovider after the connection is established (or re-established)."}),"\n",(0,s.jsx)(e.h4,{children:"Example"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-json",children:'{\n  "type": "provider-meta",\n  "version": 1\n}\n'})})]})},i=Object.assign({},(0,o.ah)(),n.components).wrapper;return i?(0,s.jsx)(i,c({},n,{children:(0,s.jsx)(t,{})})):t()}var l=(0,s.jsx)(h,{});function u(e){return(0,r.withSSG)((0,i.Z)({filename:"send.mdx",route:"/sterling-connection/send",meta:{},pageMap:[{name:"index",route:"/",frontMatter:{title:"Sterling Docs",headeronly:!0}},{name:"meta.json",meta:{index:"Introduction","sterling-connection":"Sterling Connection"}},{name:"sterling-connection",children:[{name:"formats",route:"/sterling-connection/formats"},{name:"introduction",route:"/sterling-connection/introduction"},{name:"meta.json",meta:{introduction:"Introduction",receive:"Provider -> Sterling",send:"Sterling -> Provider",types:"Types",formats:"Data Formats"}},{name:"receive",route:"/sterling-connection/receive"},{name:"send",route:"/sterling-connection/send"},{name:"types",route:"/sterling-connection/types"}],route:"/sterling-connection"}]},a.Z))(c({},e,{children:l}))}}},function(e){e.O(0,[284,830,774,888,179],(function(){return n=5012,e(e.s=n);var n}));var n=e.O();_N_E=n}]);